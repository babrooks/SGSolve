<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SGSolve: SGSolve Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="sgdoxystyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SGSolve
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SGSolve Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="introsec"></a>
Introduction</h1>
<p>SGSolve is a software package for representing, solving, and analyzing the equilibria of infinitely repeated stochastic games with two players, perfect monitoring, and a public randomization device. The library implements algorithms for computing the subgame perfect equilibrium payoff correspondence that was invented by Dilip Abreu, Ben Brooks, and Yuliy Sannikov (Abreu, Brooks, and Sannikov, 2016, 2019).</p>
<p>The package consists of two main components. The first piece is a library of C++ classes for representing and solving stochastic games, and the second is a graphical user interface (SGViewer) for using and interacting with the solver library. The purpose of this guide is to give advanced users an overview of how the library and graphical interface are structured.</p>
<p>SGSolve makes use of external software packages: the Boost libraries are used for serialalization of data relating to stochastic games, which are represented with the <a class="el" href="classSGGame.html" title="Describes a stochastic game. ">SGGame</a> class and are saved as .sgm files, and the solutions of stochastic games that are generated by the algorithmm, which are represented with the <a class="el" href="classSGSolution.html" title="Records the progress of SGSolver::solve(). ">SGSolution</a> and <a class="el" href="classSGIteration.html" title="Stores data on the behavior of SGApprox::generate() ">SGIteration</a> classes and are saved as .sln files. The graphical interface uses the Qt framework and the Qt plotting library QCustomPlot. Gurobi is used for various extensions using linear programming.</p>
<h1><a class="anchor" id="installsec"></a>
Installation</h1>
<p>To use this software, you can directly download the SGViewer binaries, which are precompiled for Linux and OS X. The source code is also available at www.benjaminbrooks.net/research.shtml. The code has most recently been compiled on OS X using LLVM version 10.0.0 and Boost 1.69. The SGViewer was compiled using Qt 5.4. The class SGJYCSolver uses Gurobi for linear programming, and the code was compiled with Gurobi 8.00. To compile the code yourself, you need to change the relevant variables in localsettings.mk in the root directory. You can then build the desired examples by calling "make" in either the src or examples directories. After you build the source, you can build SGViewer program from the viewer directory by first calling "qmake" and then "make".</p>
<h1><a class="anchor" id="solversec"></a>
Overview of the solver library</h1>
<p>The machinery underlying the SGSolve package is a library of routines for specifying and solving stochastic games. For examples of how to use the library, see risksharing.cpp and risksharing.hpp. The main classes are <a class="el" href="classSGGame.html" title="Describes a stochastic game. ">SGGame</a>, which is used to specify a game, and the solver class <a class="el" href="classSGSolver__MaxMinMax.html" title="Class for solving stochastic games. ">SGSolver_MaxMinMax</a>, whose routine <a class="el" href="classSGSolver__MaxMinMax.html#aad121e84c1492524e439ffba05893f3d" title="Solve routine. ">SGSolver_MaxMinMax::solve()</a> implements the max-min-max algorithm of Abreu, Brooks, and Sannikov (2019). The <a class="el" href="classSGSolver.html" title="Class for solving stochastic games. ">SGSolver</a> class implements the deprecated pencil-sharpening algorithm of Abreu, Brooks, and Sannikov (2016).</p>
<p>An <a class="el" href="classSGGame.html" title="Describes a stochastic game. ">SGGame</a> can be constructed in one of two ways. First, the user can specify payoffs and transition probabilities as arrays and pass them to the <a class="el" href="classSGGame.html" title="Describes a stochastic game. ">SGGame</a> constructor. Alternatively, the user can create a class that derives from <a class="el" href="classSGAbstractGame.html" title="A virtual class for constructing games. ">SGAbstractGame</a>, and pass an object of the derived class to the constructor for <a class="el" href="classSGGame.html" title="Describes a stochastic game. ">SGGame</a>. <a class="el" href="classSGAbstractGame.html" title="A virtual class for constructing games. ">SGAbstractGame</a> contains virtual methods for retrieving the payoffs and transition probabilities that can be defined by the user. For an example of how to derive from <a class="el" href="classSGAbstractGame.html" title="A virtual class for constructing games. ">SGAbstractGame</a>, see risksharing.hpp. Once the game is constructed, the user can construct an <a class="el" href="classSGSolver.html" title="Class for solving stochastic games. ">SGSolver</a> for that game. <a class="el" href="classSGSolver__MaxMinMax.html" title="Class for solving stochastic games. ">SGSolver_MaxMinMax</a>.</p>
<h1><a class="anchor" id="viewersec"></a>
Overview of the graphical interface</h1>
<p>In addition to using the object model directly, the user can also interact with the SGSolve library through the SGViewer graphical interface. This interface was constructed using the Qt framework and the QCustomPlot plotting library (<a href="http://www.qcustomplot.com/">http://www.qcustomplot.com/</a>).</p>
<p>The interface consists of three tabs. The "game tab" is for viewing and specifying a stochastic game. It contains tables that display, for one state at a time, the players' payoffs and the transition probabilities for each pair of actions. The user can edit payoffs, probabilities, and the discount factor, as well as add and delete actions and states.</p>
<p>From the game tab, the user can invoke the solve routine. The progress of the algorithm is displayed on the "log tab".</p>
<p>Once the algorithm finishes, the output is displayed in a "solution
tab". There are two tabs, one for the deprecated pencil-sharpening algorithm, and the other for the more powerful max-min-max algorithm. On the right-hand side of these tabs are a series of plots that display payoffs state-by-state. On the left-hand side are more detailed plots that decompose how payoffs are generated in one of the states.</p>
<p>Right-clicking on a plot brings up additional options for the user. The first option, "inspect point", will show how a given payoff is decomposed into flow payoffs and continuation utilities. The second option, "simulate", brings up another window for forward simulating the equilibrium that generates the given payoff.</p>
<h1><a class="anchor" id="examplesec"></a>
Examples</h1>
<p>For the benefit of the user, we have included several examples of how to use the SGSolve package. The file pd_twostate.cpp is an example of a two-state game, where the stage game in each state takes the form of a prisoner's dilemma. This file shows how to construct an <a class="el" href="classSGGame.html" title="Describes a stochastic game. ">SGGame</a> by specifying the payoffs and transition probabilities as arrays.</p>
<p>The second example is risksharing.cpp, which constructs a risk sharing game a la Kocherlakota (1996), in which the two players have stochastic endowments and concave utility, and can insure one another against income shocks with transfers. The file risksharing.hpp constructs a risk sharing game by deriving from the <a class="el" href="classSGAbstractGame.html" title="A virtual class for constructing games. ">SGAbstractGame</a> class, and risksharing.cpp uses that class to solve for a variety of parameter values.</p>
<p>These examples are reported in Abreu, Brooks, and Sannikov (2019).</p>
<h1><a class="anchor" id="conclusionsec"></a>
Final thoughts</h1>
<p>The package has many more features that the user will hopefully discover. Within the src folder is a src/MATLAB subfolder, that contains tools for interfacing between MATLAB and SGSolve. In particular, sgmex2.cpp is a mex program that can be used to specify, solve, and analyze games from within MATLAB. There is also a matlab m-file sgmexbuild2.m that was used to build sgmex on OS X with MATLAB R2018a.</p>
<p>This program would not have been possible without the support of numerous groups and the contributions of others, and it is entirely fitting and appropriate that their contributions should be acknowledged. In particular, this program was developed with and incorporates elements of a number of other open source projects, including the Qt application framework (www.qt.io), Emmanuel Eichhammer's QCustomPlot (www.qcustomplot.com), the Boost libraries (www.boost.org), and the GNU project (www.gnu.org). I would also like to gratefully acknowledge support from the Becker Friedman Institute, the University of Chicago, and the National Science Foundation.</p>
<p>Finally, it should go without saying that this program is a work in progress. Feedback, bug reports, and contributions are much appreciated.</p>
<p>Enjoy!</p>
<p>Ben Brooks Chicago, IL <a href="#" onclick="location.href='mai'+'lto:'+'ben'+'@b'+'enj'+'am'+'inb'+'ro'+'oks'+'.n'+'et'; return false;">ben@b<span style="display: none;">.nosp@m.</span>enja<span style="display: none;">.nosp@m.</span>minbr<span style="display: none;">.nosp@m.</span>ooks<span style="display: none;">.nosp@m.</span>.net</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
