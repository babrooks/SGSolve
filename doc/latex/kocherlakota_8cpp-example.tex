\hypertarget{kocherlakota_8cpp-example}{\section{kocherlakota.\-cpp}
}

\begin{DoxyCodeInclude}
\textcolor{comment}{// Kocherlakota example. Two individuals with stochastic endowments,}
\textcolor{comment}{// iid uniform, who can make linear transfers to one another.}
\textcolor{preprocessor}{#include "sg.hpp"}

\textcolor{keywordtype}{int} main ()
\{
  \textcolor{keywordtype}{double} delta = 0.7;

  \textcolor{keywordtype}{int} action, state, player;
  \textcolor{keywordtype}{int} numPlayers = 2;
  vector<int> actions(2,0), endowments(2,0);

  \textcolor{keywordtype}{int} numEndowments = 5,
    numStates = numEndowments * numEndowments;
  
  \textcolor{keywordtype}{int} actionsPerStatePlayer = 50;
  vector< vector< int > > numActions(numStates,
                     vector<int>(numPlayers,
                         actionsPerStatePlayer));
  vector<int> numActions\_total(numStates,actionsPerStatePlayer*actionsPerStatePlayer);

  \textcolor{comment}{// Payoffs}
  vector< vector< vector<double> > > 
    payoffs(numStates,
        vector< vector<double> >(actionsPerStatePlayer*actionsPerStatePlayer,
                     vector<double>(numPlayers,0.0)));
  \textcolor{keywordflow}{for} (state = 0; state < numStates; state++)
    \{
      \hyperlink{sgutilities_8hpp_a1d362a3ffd8d363ddffc2fd82cbdc603}{indexToVector}(state,endowments,vector<int>(numPlayers,numEndowments));
      \textcolor{keywordflow}{for} (action = 0; action < numActions\_total[state]; action++)
    \{
      \hyperlink{sgutilities_8hpp_a1d362a3ffd8d363ddffc2fd82cbdc603}{indexToVector}(action,actions,numActions[state]);
      
      \textcolor{comment}{// Actions encode the share of inccome being given away.}
      vector<double>share(2,0.0);
      vector<double>income(2,0.0);
      \textcolor{keywordflow}{for} (player=0; player<numPlayers; player++)
        \{
          share[player] 
        = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(actions[player])/numActions[state][player];
          income[player]
        = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(endowments[player])/numEndowments;
        \}
      \textcolor{comment}{// Sqrt utility}
      payoffs[state][action][0] 
        = pow((1.0-share[0])*income[0] + share[1]*income[1],0.5);
      payoffs[state][action][1] 
        = pow((1.0-share[1])*income[1] + share[0]*income[0],0.5);
    \}
    \}
  
  \textcolor{comment}{// Transition probabilities}
  vector< vector< vector<double> > >
    probabilities(numStates,
          vector< vector<double> >(actionsPerStatePlayer*actionsPerStatePlayer,
                       vector<double>(numStates,1.0/numStates)));

  cout << \textcolor{stringliteral}{"Constructing game object"} << endl;
  \hyperlink{classSGGame}{SGGame} game(delta,
          numStates,
          numActions,
          payoffs,
          probabilities);

  cout << \textcolor{stringliteral}{"Building solver"} << endl;
  \hyperlink{classSGEnv}{SGEnv} env;
  \hyperlink{classSGSolver}{SGSolver} solver(env,game);

  cout << \textcolor{stringliteral}{"Starting solve routine"} << endl;
  solver.\hyperlink{classSGSolver_a220dd431eabdd9ff8419fafb28b7b990}{solve}();
  
  cout << \textcolor{stringliteral}{"Done!"} << endl;

  \textcolor{keywordflow}{return} 0;
\}

\end{DoxyCodeInclude}
 